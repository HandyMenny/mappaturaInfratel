(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6476)}])},6476:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var r,o=n(5893),i=n(9008),c=n.n(i),s=n(7294);!function(e){e.RESET="RESET",e.SET_REGION="SET_REGION",e.SET_PROVINCE="SET_PROVINCE",e.SET_CITY="SET_CITY",e.SET_STREET="SET_STREET",e.SET_NUMBER_EGON="SET_NUMBER_EGON"}(r||(r={}));var a={region:"",province:"",city:"",street:"",number:"",egon:""},l=function(e,t){switch(t.type){case r.RESET:return a;case r.SET_REGION:return{region:t.payload};case r.SET_PROVINCE:return{region:e.region,province:t.payload};case r.SET_CITY:return{region:e.region,province:e.province,city:t.payload};case r.SET_STREET:return{region:e.region,province:e.province,city:e.city,street:t.payload};case r.SET_NUMBER_EGON:return{region:e.region,province:e.province,city:e.city,street:e.street,number:t.payload,egon:t.egon};default:return e}},u=(0,s.createContext)({state:a,dispatch:function(){}}),d=function(){return(0,s.useContext)(u)},f=function(e){var t=e.children,n=(0,s.useReducer)(l,a),r=n[0],i=n[1];return(0,o.jsx)(u.Provider,{value:{state:r,dispatch:i},children:t})},p=function(e){var t=e.href,n=e.text,r=e.children,i=e.className;return(0,o.jsxs)("a",{className:"text-sm font-light text-gray-300 hover:underline ".concat(i),target:"_blank",rel:"noopener noreferrer",href:t,children:[n,r]})},x=function(){return(0,o.jsxs)("footer",{className:"flex flex-col items-center justify-center w-full bg-indigo-900 py-2",children:[(0,o.jsxs)("p",{children:["Basato su "," ",(0,o.jsx)(p,{href:"https://theedoran.github.io/mappatura2021",text:"Mappatura Infratel 2021",className:"text-white !text-base italic font-semibold hover:no-underline"})," ","  di"," ",(0,o.jsx)(p,{href:"https://edoardo.ranghieri.com",text:"TheEdoRan",className:"text-white !text-base font-semibold hover:no-underline"})," "]}),(0,o.jsx)("div",{className:"flex items-center justify-center gap-4",children:(0,o.jsx)("p",{children:(0,o.jsx)(p,{href:"https://github.com/HandyMenny/mappaturaInfratel",text:"Codice Sorgente"})})})]})},h=n(4051),m=n.n(h),b=n(4156),v=n.n(b),g=n(4931);function y(e,t,n,r,o,i,c){try{var s=e[i](c),a=s.value}catch(l){return void n(l)}s.done?t(a):Promise.resolve(a).then(r,o)}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function w(e,t,n){return(w=j()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&N(o,n.prototype),o}).apply(null,arguments)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t="function"===typeof Map?new Map:void 0;return O=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return w(e,arguments,C(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),N(r,e)},O(e)}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,e);var t=R(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this)).status=0,o.message=e,o.status=r,o}return n}(O(Error)),T=function(e){429===e.status?g.ZP.error("Hey, vacci piano!\nRiprova tra una decina di minuti.",{id:"search-field-too-many-requests-error"}):g.ZP.error("Errore nel comunicare con il server.\nRiprova pi\xf9 tardi.",{id:"search-field-error"})},k=function(){var e,t=(e=m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://mappatura2021.ranghieri.com").concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new S(n.statusText,n.status);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){y(i,r,o,c,s,"next",e)}function s(e){y(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),M=v()(k,{promise:!0,primitive:!0}),P=n(5152);function I(e,t,n,r,o,i,c){try{var s=e[i](c),a=s.value}catch(l){return void n(l)}s.done?t(a):Promise.resolve(a).then(r,o)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){F(e,t,n[t])}))}return e}var V=n.n(P)()((function(){return n.e(538).then(n.bind(n,5538))}),{loadableGenerated:{webpack:function(){return[5538]}},ssr:!1}),U=function(e){return e.map((function(e){return{value:e,label:e}}))},z=function(e){return e.map((function(e){return{value:e.number,label:e.number,egon:e.egon}}))},D=function(e){var t,n=e.context,i=e.disabled,c=e.title,a=e.className,l=e.menuPlacement,u=e.showOptionsOnClick,f=void 0!==u&&u,p=d(),x=p.state,h=p.dispatch,b=(0,s.useState)([]),v=b[0],g=b[1],y=(0,s.useState)(""),j=y[0],w=y[1],C=(0,s.useCallback)((function(e){var t,o,i=e.get,c=e.fetch,s=e.payload,a=e.egon;switch(n){case"regions":return i?x.region:c?M("/regions"):h({type:r.SET_REGION,payload:s});case"provinces":return i?x.province:c?(o=x.region,M("/".concat(encodeURIComponent(o),"/provinces"))):h({type:r.SET_PROVINCE,payload:s});case"cities":return i?x.city:c?(t=x.province,M("/".concat(encodeURIComponent(t),"/cities"))):h({type:r.SET_CITY,payload:s});case"streets":return i?x.street:c?function(e,t){return M("/".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t),"/streets"))}(x.province,x.city):h({type:r.SET_STREET,payload:s});case"numbers":return i?x.number:c?function(e,t,n){return M("/".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t),"/").concat(encodeURIComponent(n),"/numbers"))}(x.province,x.city,x.street):h({type:r.SET_NUMBER_EGON,payload:s,egon:a});default:return}}),[n,h,x]),E=(0,s.useCallback)((t=m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,C({fetch:!0});case 5:if(t=e.sent,"numbers"!==n){e.next=9;break}return g(z(t)),e.abrupt("return");case 9:g(U(t)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),T(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(e){I(i,r,o,c,s,"next",e)}function s(e){I(i,r,o,c,s,"throw",e)}c(void 0)}))}),[n,C,i]),N=(0,s.useCallback)((function(){return f?v:j?v.filter((function(e){var t=e.label;return null===t||void 0===t?void 0:t.toLowerCase().includes(j.trim().toLowerCase())})).sort((function(e,t){var n=e.label,r=t.label;return n.localeCompare(r)})).slice(0,100):[{label:"Digita un nome",value:"__search_placeholder",isDisabled:!0}]}),[v,f,j]);return(0,s.useEffect)((function(){E()}),[x,E]),(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("h3",{className:"text-indigo-200 text-xl mb-3",children:c}),(0,o.jsx)(V,{isDisabled:i,options:N(),onInputChange:function(e){return w(e)},menuPlacement:l,styles:{control:function(e,t){var n=t.isDisabled;return G({},e,{backgroundColor:n?"#b0b0b0":"#f7f7f7",fontStyle:n?"italic":"normal"})},option:function(e,t){var n=t.isDisabled,r=t.isFocused;return G({},e,{backgroundColor:n?"transparent":r?"#deebff":"white",color:"#4760a3"})},placeholder:function(e){return G({},e,{lineHeight:"1rem"})}},value:function(){var e=C({get:!0});return e?{label:e,value:e}:null}(),onChange:function(e){!function(e){var t=e.payload,n=e.egon;C({get:!1,payload:t,egon:n})}({payload:e.value,egon:e.egon})},noOptionsMessage:function(e){return e.inputValue?"Nessun risultato":""},className:"w-full text-blue-900 ".concat(a),placeholder:"".concat(f?"Seleziona":"Cerca"," ").concat(c.toLowerCase())})]})},B={"":{text:"bianco",className:"bg-white text-black border-black"},n:{text:"nero",className:"bg-black text-indigo-100 border-white"},g:{text:"grigio",className:"bg-gray-500 text-indigo-100 border-whtie"}},H={0:"< 30 Mbit/s",1:"< 300 Mbit/s",2:">= 300 Mbit/s",30:"30-99 Mbit/s",100:"100-199 Mbit/s",200:"200-299 Mbit/s",300:"300-999 Mbit/s",1e3:">= 1000 Mbit/s"},A={0:"< 300 Mbit/s",1:">= 300 Mbit/s"},L={0:"< 30 Mbit/s",30:"30-99 Mbit/s",100:">= 100 Mbit/s"},Z=function(e){var t=e.text,n=e.children;return(0,o.jsxs)("summary",{className:"text-2xl sm:text-3xl text-indigo-100 uppercase text-center",children:[t," ",n]})},Y=function(e){var t=e.text,n=e.children;return(0,o.jsxs)("h2",{className:"text-xl sm:text-2xl text-indigo-200 uppercase text-center mt-3",children:[t," ",n]})},W=function(e){var t=e.children,n=e.open;return(0,o.jsx)("details",{className:"flex flex-col items-center",open:n,children:t})},X=function(e){var t=e.data,n=(0,s.useRef)(null);(0,s.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);var r=(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2021"}),(0,o.jsx)(Y,{text:"Non censito"})]});null!=t.below300Mbps&&(r=(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2021"}),null!=t.color&&(0,o.jsx)(Y,{text:"Colore del civico",children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("div",{className:"text-3xl sm:text-4xl py-3 px-4 m-auto w-[calc(100%_-_2.9rem)] border-2 ".concat(B[t.color].className),children:B[t.color].text.toUpperCase()})})}),(0,o.jsx)(Y,{text:"Velocit\xe0 massima",children:(0,o.jsx)("div",{children:null!=t.color?H[t.below300Mbps]:A[t.below300Mbps]})}),(0,o.jsx)(Y,{text:"Velocit\xe0 ore di punta",children:(0,o.jsx)("div",{children:null!=t.color?H[t.peakSpeed]:A[t.peakSpeed]})})]})}));var i=(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2020"}),(0,o.jsx)(Y,{text:"Non censito"})]});null!=t.class19&&(i=(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2020"}),(0,o.jsx)(Y,{text:"Copertura 2019",children:(0,o.jsxs)("div",{className:"text-2xl sm:text-3xl py-3 px-4 m-auto w-[calc(100%_-_2.9rem)] border-2 ".concat(B[t.class19[0]||""].className),children:[B[t.class19[0]||""].text.toUpperCase(),"v"==t.class19[1]?" VHCN":"n"==t.class19[1]?" NGA":"","r"==t.class19[2]?" RAME":"w"==t.class19[2]?" FWA":"f"==t.class19[2]?" FTTH":""]})}),(0,o.jsx)(Y,{text:"Copertura 2022",children:(0,o.jsxs)("div",{className:"text-2xl sm:text-3xl py-3 px-4 m-auto w-[calc(100%_-_2.9rem)] border-2 ".concat(B[t.class22[0]||""].className),children:[B[t.class22[0]||""].text.toUpperCase(),"v"==t.class22[1]?" VHCN":"n"==t.class22[1]?" NGA":"","r"==t.class22[2]?" RAME":"w"==t.class22[2]?" FWA":"f"==t.class22[2]?" FTTH":""]})})]}));var c=(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2019"}),(0,o.jsx)(Y,{text:"Non censito"})]});null!=t.cat18&&(c=(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2019"}),(0,o.jsx)(Y,{text:"Velocit\xe0 massima 2018",children:(0,o.jsx)("div",{children:L[t.cat18]})}),(0,o.jsx)(Y,{text:"Velocit\xe0 massima 2021",children:(0,o.jsx)("div",{children:L[t.cat21]})})]}));var a=(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2017"}),(0,o.jsx)(Y,{text:"Non censito"})]});null!=t.speed20&&(a=(0,o.jsxs)(W,{children:[(0,o.jsx)(Z,{text:"Consultazione 2017"}),(0,o.jsx)(Y,{text:"Velocit\xe0 massima 2020",children:(0,o.jsx)("div",{children:L[t.speed20]})})]}));var l=(0,o.jsxs)(W,{open:!0,children:[(0,o.jsx)(Z,{text:"Piano Italia 1 Giga"}),(0,o.jsx)(Y,{text:"Incluso nel bando",children:(0,o.jsx)("div",{children:t.bando1Giga?"S\xec":"No"})}),!!t.bando1Giga&&(0,o.jsx)(Y,{text:"Vincitore Bando",children:(0,o.jsx)("div",{children:1==t.bando1Giga?" Openfiber":2==t.bando1Giga?" TIM":" Non ancora noto"})})]});return(0,o.jsxs)("div",{ref:n,className:"flex flex-col items-center justify-evenly gap-8",children:[l,r,i,c,a]})},q=function(e){var t=e.children,n=e.disabled,r=e.className,i=e.onClick,c=e.type;return(0,o.jsx)("button",{disabled:n,className:"mt-3 outline-none border-2 py-2 px-2 sm:px-4 sm:py-3 rounded-lg shadow-sm transition-all hover:brightness-110 disabled:hover:brightness-100 disabled:grayscale disabled:cursor-default ".concat(r),type:c,onClick:i,children:t})},J=function(){return(0,o.jsx)("div",{className:"w-full border-t lg:w-auto lg:border-l border-gray-300 opacity-30"})},K=function(e){var t=e.className;return(0,o.jsxs)("svg",{className:"w-16 h-16 text-indigo-100 animate-spin ".concat(t),viewBox:"0 0 186 186",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93ZM20.46 93C20.46 133.063 52.9373 165.54 93 165.54C133.063 165.54 165.54 133.063 165.54 93C165.54 52.9373 133.063 20.46 93 20.46C52.9373 20.46 20.46 52.9373 20.46 93Z",fill:"#F5F5F5",fillOpacity:"0.2"}),(0,o.jsx)("path",{d:"M29.8863 24.6943C47.1213 8.76942 69.7393 -0.0515139 93.2051 0.000226065C116.671 0.0519661 139.25 8.97255 156.414 24.9733L142.463 39.9392C129.075 27.4586 111.463 20.5005 93.1599 20.4602C74.8566 20.4198 57.2146 27.3001 43.7713 39.7216L29.8863 24.6943Z",fill:"#F5F5F5",fillOpacity:"0.8"})]})},Q=function(){var e=d(),t=e.state,n=e.dispatch,i=(0,s.useState)(null),c=i[0],a=i[1],l=(0,s.useState)(!1),u=l[0],f=l[1];return(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row justify-center items-center lg:items-stretch w-full pb-5 gap-10 lg:gap-20",children:[(0,o.jsxs)("form",{className:"flex flex-col items-center gap-6 w-80 sm:w-[28rem]",onSubmit:function(e){var n;(e.preventDefault(),t.egon)&&(f(!0),a(null),(n=t.egon,M("/egon?id=".concat(n))).then((function(e){return a(e)})).catch((function(e){console.error(e),T(e)})).finally((function(){return f(!1)})))},children:[(0,o.jsx)(D,{title:"Regione",context:"regions",menuPlacement:"bottom",showOptionsOnClick:!0}),(0,o.jsx)(D,{title:"Provincia",context:"provinces",disabled:!t.region,menuPlacement:"bottom",showOptionsOnClick:!0}),(0,o.jsx)(D,{title:"Citt\xe0",context:"cities",disabled:!t.region||!t.province,menuPlacement:"bottom",showOptionsOnClick:!0}),(0,o.jsxs)("div",{className:"flex w-full gap-2",children:[(0,o.jsx)(D,{title:"Via",context:"streets",disabled:!t.region||!t.province||!t.city,menuPlacement:"top"}),(0,o.jsx)(D,{title:"Civico",context:"numbers",disabled:!t.region||!t.province||!t.city||!t.street,menuPlacement:"top",showOptionsOnClick:!0})]}),(0,o.jsxs)("div",{className:"flex justify-center items-center gap-5",children:[(0,o.jsx)(q,{disabled:!t.egon,className:"bg-yellow-400 text-blue-900",type:"submit",children:t.egon&&c||u?"Riesegui la ricerca":"Esegui la ricerca"}),!!c&&!!t.egon&&(0,o.jsx)(q,{className:"bg-red-500 text-indigo-100",type:"button",onClick:function(e){e.preventDefault(),a(null),n({type:r.RESET})},children:"Pulisci i campi"})]})]}),u&&!c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(J,{}),(0,o.jsx)("div",{className:"flex items-center justify-center w-80",children:(0,o.jsx)(K,{})})]}),!u&&!!c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(J,{}),(0,o.jsx)(X,{data:c})]})]})};function $(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c(),{children:[(0,o.jsx)("title",{children:"Esiti Mappatura Infratel | Ricerca il tuo civico"}),(0,o.jsx)("meta",{name:"description",content:"Scopri le informazioni riguardanti la copertura in fibra ottica prevista entro il 2026 al tuo indirizzo."}),(0,o.jsx)("link",{rel:"shortcut icon",type:"image/x-icon",href:"favicon.ico"})]}),(0,o.jsxs)("main",{className:"flex flex-1 flex-col p-5 justify-center items-center w-full",children:[(0,o.jsx)("h1",{className:"text-2xl sm:text-4xl font-medium mb-1 drop-shadow-lg",children:"Mappatura Infratel 2017-2021"}),(0,o.jsx)("h2",{className:"sm:text-lg italic font-light text-blue-300 drop-shadow-lg mb-10",children:"Copertura prevista entro il 2026 in Italia"}),(0,o.jsx)(f,{children:(0,o.jsx)(Q,{})})]}),(0,o.jsx)(x,{})]})}}},function(e){e.O(0,[588,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);